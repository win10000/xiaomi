"use strict";var cartList=JSON.parse(localStorage.getItem("cartList"));function bindHtml(){var t=cartList.every(function(t){return!0===t.isSelect}),c='\n       <div class="top">\n         <input class="selectAll" type="checkbox" '.concat(t?"checked":"",'>   全选\n       </div>\n       <ul class="center">\n     ');cartList.forEach(function(t){c+='\n         <li>\n           <div class="select">\n             <input data-id='.concat(t.id,' class="selectOne" type="checkbox" ').concat(t.isSelect?"checked":"",'>\n           </div>\n           <div class="info">\n             <img src="').concat(t.verticalPic,'" alt="">\n             <p>').concat(t.actors,'</p>\n           </div>\n           <p class="price">').concat(t.price,'</p>\n           <div class="number">\n             <button class="sub" data-id=').concat(t.id,'>-</button>\n             <input type="text" value="').concat(t.number,'">\n             <button class="add" data-id=').concat(t.id,'>+</button>\n           </div>\n           <p class="xiaoji">￥： ').concat(t.xiaoji.toFixed(2),'</p>\n           <div class="del" data-id=').concat(t.id,">删除</div>\n         </li>\n       ")});var n=cartList.filter(function(t){return t.isSelect}),a=0,i=0;n.forEach(function(t){a+=t.number,i+=t.xiaoji}),c+='\n       </ul>\n       <div class="bottom">\n         <p>选中商品数量  <span>'.concat(a,"</span></p>\n         <p>总价： <span>￥： ").concat(i.toFixed(2),'</span></p>\n         <button class="pay" ').concat(n.length?"":"disabled",'>去支付</button>\n         <button class="clear">清空购物车</button>\n       </div>\n     '),$(".cart").html(c)}function bindEvent(){$(".cart").on("change",".selectAll",function(){var c=this;cartList.forEach(function(t){t.isSelect=c.checked}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("change",".selectOne",function(){var c=$(this).data("id");cartList.forEach(function(t){t.id===c&&(t.isSelect=!t.isSelect)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("click",".sub",function(){var c=$(this).data("id");cartList.forEach(function(t){t.id===c&&(1<t.number&&t.number--,t.xiaoji=t.price*t.number)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("click",".add",function(){var c=$(this).data("id");cartList.forEach(function(t){t.id===c&&(t.number++,t.xiaoji=t.number*t.price)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("click",".del",function(){var t=$(this).data("id");console.log("把数组中 id 为 : "+t+" 的数去去掉, 从新渲染页面, 从新存储到 lcoalStorage")}),$(".cart").on("click",".clear",function(){console.log("把数组清空"),console.log("从新渲染页面"),console.log("把空数组从新存储到 lcoalStorage 里面")})}cartList?(bindHtml(),bindEvent()):alert("您的购物车为空, 快去选购把");